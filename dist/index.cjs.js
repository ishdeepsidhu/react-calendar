"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),a=function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r={0:"Su",1:"Mo",2:"Tu",3:"We",4:"Th",5:"Fr",6:"Sa"},l={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"};function i(e){return"".concat(e.getFullYear()<10?"0"+e.getFullYear():e.getFullYear(),"_").concat(e.getMonth()<10?"0"+e.getMonth():e.getMonth(),"_").concat(e.getDate()<10?"0"+e.getDate():e.getDate())}function o(e,t){if(t.getFullYear()<e.getFullYear())return!0;if(t.getFullYear()===e.getFullYear()){if(t.getMonth()<e.getMonth())return!0;if(t.getMonth()===e.getMonth()&&t.getDate()<e.getDate())return!0}return!1}function c(e){return null!=e&&e.getTime&&!isNaN(e.getTime())}function u(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function s(e,t,n){var a=e.getFullYear(),r=e.getMonth(),l=e.getDate(),i=t.getFullYear(),o=t.getMonth(),c=t.getDate(),u=n.getFullYear(),s=n.getMonth(),d=n.getDate();return a<=u&&u<=i&&(a<u&&u<i||(a===i?r<=s&&s<=o&&(r<s&&s<o||(r===o?l<=d&&d<=c&&s===o:r===s?l<=d:o===s&&d<=c)):a===u?s>r||s===r&&d>=l:i===u&&(s<o||s===o&&d<=c)))}function d(e){return e%4==0&&e%100!=0||e%400==0}function f(e,t){return{0:31,1:d(e)?29:28,2:31,3:30,4:31,5:30,6:31,7:31,8:30,9:31,10:30,11:31}[t]}function g(e){return f(e.getFullYear(),e.getMonth())===e.getDate()}function h(e){return 0===e?11:e-1}function m(e){return 11===e?0:e+1}function y(e){return 1===e?1:e-1}function w(e){return e+1}function v(e){return function(e){return 11===e.getMonth()&&g(e)}(e)?new Date(e.getFullYear()+1,0,1):g(e)?new Date(e.getFullYear(),e.getMonth()+1,1):new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)}function M(e,t){var n=6-t;return e<=n?e+t:e-n-1}function D(e){return e%20==0?20*(e/20-1)+1:20*Number(Math.floor(e/20))+1}function _(e){for(var t=e.isRangeSelectModeOn,n=e.isRangeView,a=e.selectedDate,r=e.selectedRangeStart,l=e.selectedRangeEnd,i=e.isHighlight,o=e.isGrey,c=e.newSelectedRangeStart,u=e.newSelectedRangeEnd,s=e.isSelectMultiDate,d=e.selectedMultiDates,g=e.yearInView,w=e.monthInView,v=e.startOfTheWeek,M=e.isDisabled,D=e.checkIfWeekend,_=[[],[],[],[],[],[]],b=function(e,t,n){var a=new Date;return a.setDate(1),a.setMonth(t),a.setFullYear(e),function(e,t){return void 0===t&&(t=0),e>=t?e-t:6-t+1+e}(a.getDay(),n)}(g,w,v),k=new Date,R=f(g,w),p=0===w,C=11===w,E=f(p?y(g):g,h(w)),V=0,x=0,I=E-(b-1);I<=E;I++)7===x&&(x=0,V++),_[V].push(S({currDate:new Date(p?y(g):g,h(w),I),activeMonthInView:!1,isHighlight:i,isGrey:o,newSelectedRangeEnd:u,newSelectedRangeStart:c,selectedDate:a,selectedRangeEnd:l,selectedRangeStart:r,isDisabled:M,isRangeSelectModeOn:t,isRangeView:n,isSelectMultiDate:s,row:V,weekColumn:x,checkIfWeekend:D,today:k,selectedMultiDates:d,startOfTheWeek:v})),x++;for(var Y=1;Y<=R;Y++)7===x&&(x=0,V++),_[V].push(S({currDate:new Date(g,w,Y),activeMonthInView:!0,isHighlight:i,isGrey:o,newSelectedRangeEnd:u,newSelectedRangeStart:c,selectedDate:a,selectedRangeEnd:l,selectedRangeStart:r,isDisabled:M,isRangeSelectModeOn:t,isRangeView:n,isSelectMultiDate:s,row:V,weekColumn:x,checkIfWeekend:D,today:k,selectedMultiDates:d,startOfTheWeek:v})),x++;for(var N=1;_[5].length<7;)7===x&&(x=0,V++),_[V].push(S({currDate:new Date(C?g+1:g,m(w),N),activeMonthInView:!1,isHighlight:i,isGrey:o,newSelectedRangeEnd:u,newSelectedRangeStart:c,selectedDate:a,selectedRangeEnd:l,selectedRangeStart:r,isDisabled:M,isRangeSelectModeOn:t,isRangeView:n,isSelectMultiDate:s,row:V,weekColumn:x,checkIfWeekend:D,today:k,selectedMultiDates:d,startOfTheWeek:v})),x++,N++;return _}function S(e){var t=e.currDate,n=e.activeMonthInView,a=e.isHighlight,r=e.isGrey,l=e.newSelectedRangeEnd,d=e.newSelectedRangeStart,f=e.selectedDate,g=e.selectedRangeEnd,h=e.selectedRangeStart,m=e.isDisabled,y=e.isRangeSelectModeOn,w=e.isRangeView,v=e.isSelectMultiDate,D=e.row,_=e.weekColumn,S=e.checkIfWeekend,b=e.today,k=e.selectedMultiDates,R=e.startOfTheWeek;return{date:t,dayOfMonth:t.getDate(),month:t.getMonth(),activeMonthInView:n,isHighlight:"function"==typeof a&&a(t),isGrey:"function"==typeof r&&r(t),isInRange:!!w&&(y?!(!c(d)||!c(l))&&(o(l,d)?s(d,l,t):s(l,d,t)):!!h&&!!g&&s(h,g,t)),isRangeStart:!!w&&(y?!!c(d)&&u(d,t):!!h&&u(h,t)),isRangeEnd:!!w&&(!y&&(!!g&&u(g,t))),year:t.getFullYear(),dayOfWeek:M(_,R),isWeekend:S(t),isToday:u(t,b),isFirstRow:0===D,isLastRow:5===D,isFirsColumn:0===_,isLastColumn:6===_,isSelected:v?!!k[i(t)]:!w&&(!!f&&(t.getMonth()===f.getMonth()&&t.getFullYear()===f.getFullYear()&&t.getDate()===f.getDate())),isDisabled:m(t)}}var b={root:{height:"12%",padding:"1% 2%",display:"flex",alignTtems:"center",width:"100%"},rc_header_nav:{width:"10.14%",height:"100%",flex:"0 0 auto"},rch_header_label:{width:"65.21%",height:"100%",margin:"0 4.34%",flex:"1 1 auto",display:"flex",justifyContent:"center",alignItems:"center"}};var k=e.memo((function(e){var t=e.onClickPrev,a=e.onChangeViewType,r=e.monthsLabel,l=e.showDualCalendar,i=e.isSecondary,o=e.onClickNext,c=e.viewType,u=e.monthInView,s=e.yearInView,d=e.yearMatrixEnd,f=e.yearMatrixStart;return n.default.createElement("header",{style:b.root,className:"rc_header"},l&&i?null:n.default.createElement("button",{type:"button",style:b.rc_header_nav,className:"rc_header_nav rc_header_nav-prev",onClick:t},n.default.createElement("span",null,"←")),"month_dates"===c?n.default.createElement("button",{type:"button",style:b.rch_header_label,className:"rc_header_label rc_header_label-days-of-month",onClick:function(){return!i&&a("years")}},n.default.createElement("div",null,n.default.createElement("span",null,r[u])),n.default.createElement("div",null,n.default.createElement("span",null,s))):"months"===c?n.default.createElement("button",{type:"button",style:b.rch_header_label,className:"rc_header_label rc_header_label-months"},n.default.createElement("div",{onClick:function(){return!i&&a("years")}},n.default.createElement("span",null,s))):n.default.createElement("button",{type:"button",style:b.rch_header_label,className:"rc_header_label rc_header_label-years",onClick:function(){return!i&&a("month_dates")}},n.default.createElement("div",null,n.default.createElement("span",null,f,"-",d))),l&&!i&&"month_dates"===c?null:n.default.createElement("button",{type:"button",style:b.rc_header_nav,className:"rc_header_nav rc_header_nav-next",onClick:o},n.default.createElement("span",null,"→")))})),R={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},p={width:"95%",height:"45%",display:"flex",alignItems:"center",justifyContent:"center"};var C=e.memo((function(e){var t=e.cell,a=e.onMonthClicked,r=e.monthsLabel;return n.default.createElement("div",{style:R},n.default.createElement("button",{type:"button",style:p,onClick:function(){a(t)}},r[t.month]))})),E={root:{height:"100%"},"rc_body-row":{height:"24.9%",display:"flex",width:"100%"},"rc_body-cell":{flexBasis:"33.33%",maxWidth:"33.33%",height:"100%"}};var V=e.memo((function(t){var a=t.onChangeViewingMonth,r=t.onChangeViewType,l=t.monthsLabel,i=e.useMemo((function(){return function(e){var t=Array.from({length:12},(function(t,n){return{month:n,isCurrentMonth:(new Date).getMonth()===n,isSelectedMonth:1===e[n]}}));return[t.slice(0,3),t.slice(3,6),t.slice(6,9),t.slice(9,12)]}({})}),[]);return n.default.createElement("div",{role:"grid",style:E.root,className:"rc_body-months"},i.map((function(e,t){return n.default.createElement("div",{style:E["rc_body-row"],className:"rc_body-row",key:t},e.map((function(e){return n.default.createElement("div",{style:E["rc_body-cell"],className:"rc_body-cell".concat(e.isCurrentMonth?" rc_this_month":""),key:e.month},n.default.createElement(C,{monthsLabel:l,cell:e,onMonthClicked:function(e){a(e.month),r("month_dates")}}))})))})))})),x={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},I={width:"95%",height:"45%",display:"flex",alignItems:"center",justifyContent:"center"};var Y=e.memo((function(e){var t=e.cell,a=e.onYearClicked;return n.default.createElement("div",{style:x},n.default.createElement("button",{type:"button",style:I,onClick:function(){a(t)}},t.year))})),N={root:{height:"100%"},"rc_body-row":{height:"24.9%",display:"flex",width:"100%"},"rc_body-cell":{width:"20%",height:"100%"}};var F=e.memo((function(t){var a=t.onChangeViewType,r=t.onChangeViewingYear,l=t.yearMatrixStart,i=e.useMemo((function(){return function(e,t){var n=Array.from({length:20},(function(n,a){return{year:e+a,isCurrentYear:(new Date).getFullYear()===e+a,isSelectedYear:1===t[e+a]}}));return[n.slice(0,5),n.slice(5,10),n.slice(10,15),n.slice(15,20)]}(l,{})}),[l]);return n.default.createElement("div",{role:"grid",style:N.root,className:"rc_body-years"},i.map((function(e,t){return n.default.createElement("div",{style:N["rc_body-row"],className:"rc_body-row",key:t},e.map((function(e){return n.default.createElement("div",{style:N["rc_body-cell"],className:"rc_body-cell".concat(e.isCurrentYear?" rc_this_year":""),key:e.year},n.default.createElement(Y,{cell:e,onYearClicked:function(e){r(e.year),a("months")}}))})))})))})),O={"rc_body-weekdays":{height:"15%",margin:"0",padding:0,display:"flex",width:"100%",listStyle:"none"},"rc_body-weekdays_cell":{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexBasis:"14.286%",maxWidth:"14.286%"},"rc_body-weekdays_cell_value":{width:"65.95%",display:"flex",alignItems:"center",justifyContent:"center"}};var W=e.memo((function(t){var a=t.startOfWeek,l=t.weekendMap,i=t.weekDaysLabel,o=e.useMemo((function(){return function(e){void 0===e&&(e=0);var t=Object.keys(r).slice(e,7).concat(Object.keys(r).slice(0,e));return{map:t.reduce((function(e,t){return e[Number(t)]=r[Number(t)],e}),{}),order:t}}(a)}),[a]).order;return n.default.createElement("ul",{style:O["rc_body-weekdays"],className:"rc_body-weekdays"},o.map((function(e){return n.default.createElement("li",{style:O["rc_body-weekdays_cell"],key:e,className:"rc_body-weekdays_cell".concat(l[e]?" rc_wknd":"")},n.default.createElement("div",{style:O["rc_body-weekdays_cell_value"]},n.default.createElement("span",null,i[e])))})))})),A={width:"100%",height:"99%",display:"flex",alignItems:"center",justifyContent:"center"};var T=e.memo((function(t){var a=t.cell,r=t.onDateClicked,l=t.noPadRangeCell,i=e.useMemo((function(){return function(e){return{width:e?"100%":"69.80%",height:e?"90%":"80%",display:"flex",alignItems:"center",justifyContent:"center"}}(l)}),[l]),o=e.useMemo((function(){return function(e){return{width:e?"69.8%":"100%",height:"92%"}}(l)}),[l]);return n.default.createElement("div",{style:A},n.default.createElement("div",{style:i,className:"rc_body-cell_value"},n.default.createElement("button",{type:"button",style:o,disabled:a.isDisabled,tabIndex:a.isDisabled?-1:0,onClick:function(){return r(a)}},a.dayOfMonth)))})),j={"rc_body-days-of-month":{height:"85%"},"rc_body-row":{height:"16.664%",display:"flex",width:"100%",alignItems:"center"},"rc_body-cell":{flexBasis:"14.286%",maxWidth:"14.286%",height:"100%",display:"flex",aligntems:"center"}};var L=e.memo((function(t){var r=t.selectedDate,l=t.selectedRangeStart,c=t.selectedRangeEnd,u=t.newSelectedRangeStart,s=t.startOfWeek,d=t.newSelectedRangeEnd,f=t.isRangeSelectorView,g=t.onChangeRangeSelectMode,h=t.fixedRange,m=t.isFixedRangeView,y=t.isRangeSelectModeOn,w=t.isDisabled,M=t.selectedMultiDates,D=t.isMultiSelectorView,S=t.monthInView,b=t.hideAdjacentDates,k=t.onChangeNewSelectedRangeEnd,R=t.onChangeNewSelectedRangeStart,p=t.weekends,C=t.onChange,E=t.yearInView,V=t.noPadRangeCell,x=t.lockView,I=t.checkIfWeekend,Y=t.onPartialRangeSelect,N=t.isHighlight,F=t.isGrey,O=t.onEachMultiSelect,W=e.useMemo((function(){return _({selectedDate:r,selectedRangeStart:l,selectedRangeEnd:c,newSelectedRangeStart:u,newSelectedRangeEnd:d,checkIfWeekend:I,isRangeView:f||m,isRangeSelectModeOn:y,weekendIndexes:p,selectedMultiDates:M,isSelectMultiDate:D,yearInView:E,monthInView:S,startOfTheWeek:s,isHighlight:N,isGrey:F,isDisabled:w})}),[r,N,F,l,c,u,d,f,m,y,I,p,M,D,E,S,s,w]),A=e.useCallback((function(e){var t=e.date;if(!(x&&t.getMonth()!==S))if(f&&!m)if(y&&u){var n=new Date(u.getFullYear(),u.getMonth(),u.getDate());if(o(n,t)){var r=t,l=n;"function"==typeof C&&C([r,l])}else{r=n,l=t;"function"==typeof C&&C([r,l])}k(void 0),g(!1)}else R(t),k(void 0),g(!0),Y&&Y(t);else if(f&&m){l=function(e,t){for(var n=t,a=e,r=0;n>0&&1500!==r;)a=v(a),n--,r++;return{endDate:a}}(t,h).endDate;"function"==typeof C&&C([t,l])}else if(D){var c=i(t),s=a({},M);M[c]?s[c]=void 0:s[c]=t,O&&O(t),C&&C(Object.keys(s).filter((function(e){return!!s[e]})).map((function(e){return s[e]})))}else"function"==typeof C&&C(t)}),[x,S,f,m,D,y,u,k,g,C,R,Y,h,M,O]);return n.default.createElement("div",{style:j["rc_body-days-of-month"],className:"rc_body-days-of-month",role:"grid"},W.map((function(e,t){return n.default.createElement("div",{style:j["rc_body-row"],className:"rc_body-row",key:t},e.map((function(e){return n.default.createElement("div",{style:j["rc_body-cell"],onMouseEnter:function(){f&&y&&k(new Date(e.year,e.month,e.dayOfMonth))},key:i(e.date),className:"rc_body-cell".concat(e.activeMonthInView?" rc_active":"").concat(e.isWeekend?" rc_wknd":"").concat(e.isToday?" rc_today":"").concat(e.isFirstRow?" rc_fr":"").concat(e.isToday?" rc_today":"").concat(e.isHighlight?" rc_highlight":"").concat(e.isGrey?" rc_grey":"").concat(e.isLastRow?" rc_lr":"").concat(e.isFirsColumn?" rc_fc":"").concat(e.isLastColumn?" rc_lc":"").concat(e.isSelected&&!f?" rc_selected":"").concat(e.isDisabled?" rc_disabled":"").concat(e.isInRange?" rc_in_range":"").concat(e.isRangeStart?" rc_range_start":"").concat(e.isRangeEnd?" rc_range_end":"").concat(y?" rc_range_mode":"")},!e.activeMonthInView&&b?null:n.default.createElement(T,{noPadRangeCell:V,cell:e,onDateClicked:A}))})))})))})),P={height:"88%",width:"100%"};var H=e.memo((function(t){var a=t.size,r=t.fontSize,l=t.isMultiSelectorView,i=t.isRangeSelectorView,o=t.monthInView,u=t.yearInView,s=t.showDualCalendar,d=t.onChangeViewingMonth,f=t.onChangeViewingYear,g=t.selectedDate,v=t.selectedRangeStart,M=t.view,_=t.setView,S=t.isSecondary,b=t.monthsLabel,R=t.weekDaysLabel,p=t.selectedMultiDates,C=t.lockView,E=t.startOfWeek,x=t.noPadRangeCell,I=t.weekends,Y=t.isRangeSelectModeOn,N=t.onChangeRangeSelectMode,O=t.hideAdjacentDates,A=t.selectedRangeEnd,T=t.newSelectedRangeStart,j=t.onChangeNewSelectedRangeEnd,H=t.onChangeNewSelectedRangeStart,G=t.onPartialRangeSelect,q=t.onEachMultiSelect,z=t.newSelectedRangeEnd,B=t.fixedRange,J=t.isFixedRangeView,U=t.isDisabled,K=t.checkIfWeekend,Q=t.onChange,X=t.onChangeMonth,Z=t.onChangeYear,$=t.onPrevClickCallback,ee=t.onNextClickCallback,te=t.weekendMap,ne=t.isHighlight,ae=t.isGrey,re=e.useMemo((function(){return function(e,t){return{root:{rc:{width:"".concat(e,"px"),height:"".concat(e,"px"),fontSize:"".concat(t,"px"),display:"flex",alignItems:"flex-start",flexDirection:"column",boxSizing:"border-box"}}}}(a,r)}),[a,r]);e.useEffect((function(){c(g)&&(d(g.getMonth()),f(g.getFullYear()))}),[S,d,f,g]),e.useEffect((function(){var e=Object.keys(p).map((function(e){return p[e]})).filter((function(e){return c(e)}));1===e.length&&e[0]&&(d(e[0].getMonth()),f(e[0].getFullYear()))}),[S,d,f,p]);var le=e.useState(D(u)),ie=le[0],oe=le[1];e.useEffect((function(){oe(D(u))}),[u,oe]);var ce=e.useMemo((function(){return[e=ie,e+19];var e}),[ie]),ue=ce[0],se=ce[1],de=e.useCallback((function(){var e;"month_dates"===M&&(0===o&&f(y(u)),d(h(o)));"years"===M&&oe(1===(e=ie)?1:D(e-1)),"months"===M&&f(1!==u?u-1:1),$&&$(M)}),[M,o,d,f,u,ie,$]),fe=e.useCallback((function(){"month_dates"===M&&(S?(0===o&&f(u),d(o)):(11===o&&f(w(u)),d(m(o))));"years"===M&&oe(D(ie+20)),"months"===M&&f(w(u)),ee&&ee(M)}),[M,S,o,d,f,u,ie,ee]),ge=e.useRef(null),he=e.useRef([]),me=e.useState(!1),ye=me[0],we=me[1];return e.useEffect((function(){if(ye){var e=ge.current;if(e){he.current=e?Array.from(e.querySelectorAll('[role="grid"] button:not([disabled])')):[];var t=he.current[0],n=he.current[he.current.length-1],a=e.querySelector('[role="grid"] .rc_selected button')||e.querySelector('[role="grid"] .rc_range_end button')||e.querySelector('[role="grid"] .rc_range_start button'),r=e.querySelector('[role="grid"] .rc_active button'),l=e.querySelector(".rc_header");if(l){var i=l.querySelector(".rc_header_nav-prev"),o=l.querySelector(".rc_header_nav-next"),c=l.querySelector(".rc_header_label");e&&!e.contains(document.activeElement)&&(a?a.focus():r?r.focus():t.focus());var u=function(e,n){var a,r,l=n===t;return e?(a=e,r=he.current.indexOf(a),l?r<he.current.length-1?he.current[r+1]:n:r-1>-1?he.current[r-1]:n):null};return e.addEventListener("keydown",s,{capture:!0}),function(){e.removeEventListener("keydown",s,{capture:!0})}}}}function s(e){var a=e.target,r=he.current&&he.current.find((function(e){return e===a}));if("Tab"===e.key&&(e.preventDefault(),(null==l?void 0:l.contains(document.activeElement))?t.focus():null==i||i.focus()),"ArrowDown"===e.key){e.preventDefault();var s="month_dates"===M?7:"months"===M?3:5;if(!r)return;for(var d=r;s>0;)d=u(d,t),s--;null==d||d.focus()}if("ArrowUp"===e.key){e.preventDefault();s="month_dates"===M?7:"months"===M?3:5;if(!r)return;for(d=r;s>0;)d=u(d,n),s--;null==d||d.focus()}if("ArrowLeft"===e.key)if(e.preventDefault(),document.activeElement===i)null==o||o.focus();else if(document.activeElement===c)null==i||i.focus();else if(document.activeElement===o)null==c||c.focus();else{if(!r)return;null==(d=u(r,n))||d.focus()}if("ArrowRight"===e.key)if(e.preventDefault(),document.activeElement===i)null==c||c.focus();else if(document.activeElement===c)null==o||o.focus();else if(document.activeElement===o)null==i||i.focus();else{if(!r)return;null==(d=u(r,t))||d.focus()}"Home"===e.key&&(e.preventDefault(),t.focus()),"End"===e.key&&(e.preventDefault(),n.focus()),"Escape"===e.key&&(e.preventDefault(),n.focus(),n.blur())}}),[ge,M,ye,o,u,ie]),n.default.createElement("div",{onFocus:function(){!ye&&we(!0)},onBlur:function(e){e.currentTarget.contains(e.target)||we(!1)},style:re.root.rc,className:"rc",ref:ge},n.default.createElement(k,{monthsLabel:b,isSecondary:S,showDualCalendar:s,onClickPrev:de,onClickNext:fe,onChangeViewType:_,viewType:M,monthInView:o,yearInView:u,yearMatrixStart:ue,yearMatrixEnd:se}),n.default.createElement("div",{style:P,className:"rc_body"},"months"===M&&n.default.createElement(V,{monthsLabel:b,onChangeViewType:_,onChangeViewingMonth:d}),"years"===M&&n.default.createElement(F,{onChangeViewType:_,onChangeViewingYear:f,yearMatrixStart:ue,yearMatrixEnd:se}),"month_dates"===M&&n.default.createElement(n.default.Fragment,null,n.default.createElement(W,{weekDaysLabel:R,startOfWeek:E,weekendMap:te}),n.default.createElement(L,{noPadRangeCell:x,isRangeSelectModeOn:Y,onChangeRangeSelectMode:N,hideAdjacentDates:O,selectedDate:g,selectedRangeStart:v,selectedRangeEnd:A,lockView:C,newSelectedRangeStart:T,startOfWeek:E,onChangeNewSelectedRangeEnd:j,onChangeNewSelectedRangeStart:H,onPartialRangeSelect:G,onEachMultiSelect:q,newSelectedRangeEnd:z,isRangeSelectorView:i,fixedRange:B,isFixedRangeView:J,isDisabled:U,checkIfWeekend:K,selectedMultiDates:p,isMultiSelectorView:l,monthInView:o,weekends:I,onChange:Q,onChangeMonth:X,onChangeYear:Z,yearInView:u,isHighlight:ne,isGrey:ae}))))}));function G(e){var t=e.isMultiSelectorView&&e.selectedMultiDates&&e.selectedMultiDates[Object.keys(e.selectedMultiDates)[0]];return c(e.viewDate)?e.viewDate:e.isNormalView&&c(e.selectedDate)?e.selectedDate:e.isRangeSelectorView&&e.selectedRangeStart?e.selectedRangeStart:t&&c(t)?t:new Date}var q={years:1,months:1,month_dates:1},z=function(){},B={display:"inline-flex"};var J=n.default.forwardRef((function(t,u){var s=t.value,d=t.isMultiSelector,f=t.className,g=void 0===f?"":f,h=t.isRangeSelector,y=t.useDarkMode,M=void 0!==y&&y,D=t.weekends,_=t.initialViewDate,S=t.startOfWeek,b=void 0===S?1:S,k=t.fixedRange,R=t.isDisabled,p=t.onPartialRangeSelect,C=t.noPadRangeCell,E=void 0!==C&&C,V=t.onEachMultiSelect,x=t.initialView,I=t.onChange,Y=t.onChangeMonth,N=t.onChangeYear,F=t.onNextClickCallback,O=t.onPrevClickCallback,W=t.isHighlight,A=t.isGrey,T=t.monthsLabel,j=void 0===T?l:T,L=t.weekDaysLabel,P=void 0===L?r:L,J=t.lockView,U=void 0!==J&&J,K=t.size,Q=void 0===K?276:K,X=t.fontSize,Z=void 0===X?16:X,$=t.showDualCalendar,ee=void 0!==$&&$,te=t.hideAdjacentDates,ne=void 0!==te&&te,ae=!!h,re=ae&&!!ee,le=!ae&&!!d,ie=!!(ae&&"number"==typeof k&&k>0),oe=!ae&&!le,ce=b,ue=ie?k:1,se=e.useMemo((function(){return Array.isArray(D)&&(D.every((function(e){return"number"==typeof e}))||0===D.length)?D:[6,0]}),[D]),de=e.useMemo((function(){return c(_)?_:void 0}),[_]),fe=e.useMemo((function(){return e={customDisabledCheck:R}.customDisabledCheck,function(t){return"function"==typeof e&&e(t)};var e}),[R]),ge=e.useMemo((function(){return function(e){var t=e.reduce((function(e,t){return e[t]=1,e}),{});return function(e){return 1===t[e.getDay()]}}(se)}),[se]),he=e.useMemo((function(){return se.reduce((function(e,t){return e[t]=1,e}),{})}),[se]),me=e.useMemo((function(){return oe&&c(s)?s:void 0}),[oe,s]),ye=e.useMemo((function(){return le&&Array.isArray(s)&&s.every(c)?s.reduce((function(e,t){return c(t)&&(e[i(t)]=t),e}),{}):{}}),[le,s]),we=e.useMemo((function(){if(!ie||Array.isArray(s)&&function(e){if(!Array.isArray(e))return 0;var t=e[0],n=e[1];if(!c(t)||!c(n))return 0;for(var a=t,r=0;o(n,a);)r++,a=v(a);return r}(s)===k){if(ae&&Array.isArray(s)&&c(s[0])){var e=s[0].getFullYear(),t=s[0].getMonth(),n=s[0].getDate();return new Date(e,t,n)}}else;}),[k,ie,ae,s]),ve=e.useMemo((function(){if(ae&&we&&Array.isArray(s)&&c(s[1])&&o(s[1],we)){var e=s[1].getFullYear(),t=s[1].getMonth(),n=s[1].getDate();return new Date(e,t,n)}}),[ae,we,s]),Me=e.useState(!1),De=Me[0],_e=Me[1],Se=e.useState(we),be=Se[0],ke=Se[1],Re=e.useState(ve),pe=Re[0],Ce=Re[1],Ee=e.useState((function(){return G({isNormalView:oe,isMultiSelectorView:le,isRangeSelectorView:ae,selectedDate:me,selectedRangeStart:we,selectedMultiDates:ye,viewDate:de}).getMonth()})),Ve=Ee[0],xe=Ee[1],Ie=e.useState(G({isNormalView:oe,isMultiSelectorView:le,isRangeSelectorView:ae,selectedDate:me,selectedRangeStart:we,selectedMultiDates:ye,viewDate:de}).getFullYear()),Ye=Ie[0],Ne=Ie[1],Fe=m(Ve),Oe=0===Fe?w(Ye):Ye;e.useImperativeHandle(u,(function(){return{setView:function(e){e&&(xe(e.getMonth()),Ne(e.getFullYear()))}}}));var We=e.useCallback((function(e){!U&&Ne(e),!U&&N&&N(e)}),[U]),Ae=e.useCallback((function(e){!U&&xe(e),!U&&Y&&Y(e)}),[U]),Te=e.useState(x&&q[x]?x:"month_dates"),je=Te[0],Le=Te[1],Pe=e.useCallback((function(e){!U&&Le(e)}),[U,Le]),He=e.useMemo((function(){return{monthsLabel:j,weekDaysLabel:P,noPadRangeCell:!!E&&ae,showDualCalendar:re,viewDate:de,useDarkMode:M,className:g,hideAdjacentDates:!!ne,isNormalView:oe,size:Q,isHighlight:W,isGrey:A,fontSize:Z,startOfWeek:ce,weekends:se,isRangeSelectModeOn:De,onChangeRangeSelectMode:_e,selectedDate:me,selectedRangeStart:we,selectedRangeEnd:ve,lockView:!!U,newSelectedRangeStart:be,onChangeNewSelectedRangeEnd:Ce,onChangeNewSelectedRangeStart:ke,onPartialRangeSelect:p,onEachMultiSelect:V,newSelectedRangeEnd:pe,isRangeSelectorView:ae,initialView:x,fixedRange:ue,isFixedRangeView:ie,isDisabled:fe,checkIfWeekend:ge,selectedMultiDates:ye,isMultiSelectorView:le,onChange:I,onChangeMonth:Y,onChangeYear:N,onNextClickCallback:F,onPrevClickCallback:O,view:je,setView:Pe,weekendMap:he,yearInView:Ye,monthInView:Ve,onChangeViewingMonth:Ae,onChangeViewingYear:We}}),[E,j,P,ae,re,de,M,g,ne,oe,Q,Z,ce,se,De,me,we,ve,U,be,p,V,pe,x,ue,ie,fe,ge,ye,le,W,A,I,Y,N,O,F,je,Pe,he,Ye,Ve,Ae,We]),Ge=e.useMemo((function(){return"string"==typeof g?"rc_root".concat(M?" rc_dark":"").concat(re?" rc_dual":"")+" ".concat(g)+"".concat(E&&ae?" rc_no_range_padding":""):"rc_root".concat(M?" rc_dark":"").concat(re?" rc_dual":"")+"".concat(E&&ae?" rc_no_range_padding":"")}),[g,M,re,E,ae]);return n.default.createElement("div",{className:Ge,style:B},re?n.default.createElement(n.default.Fragment,null,n.default.createElement(H,a({},He,{isSecondary:!1})),n.default.createElement(H,a({},He,{view:"month_dates",setView:z,isSecondary:!0,monthInView:Fe,yearInView:Oe}))):n.default.createElement(H,a({},He,{isSecondary:!1})))})),U=function(e){if(!Array.isArray(e))return[];var t=e[0],n=e[1];if(!c(t)||!c(n))return[];for(var a=t,r=[];o(n,a);)r.push(a),a=v(a);return r.push(n),r},K={};function Q(t){var a=t.shortcutButtons,r=t.direction,l=t.isDual,i=e.useMemo((function(){return function(e,t){var n;return{root:{display:"flex",padding:"bottom"===e?t?"2%":"4%":t?"1.5%":"2%",alignItems:"center",flexDirection:"bottom"===e?"row":"column",overflow:"auto",width:"bottom"===e?"100%":"".concat(130,"px")},notFirst:(n={},n["bottom"===e?"marginLeft":"marginTop"]="bottom"===e?t?"3%":"6%":"12%",n)}}(r,l)}),[r,l]);return n.default.createElement("div",{style:i.root,className:"rc_shortcuts_view"},a.map((function(e,t){return n.default.createElement("div",{style:0!==t?i.notFirst:K,key:e.id},e.render())})))}var X=n.default.forwardRef((function(t,r){var l=e.useRef(null),i=e.useMemo((function(){return e=(t.size||276)*(t.showDualCalendar?2:1),{root:{display:"inline-flex",flexDirection:"bottom"===(n=t.direction)?"column-reverse":"right"===n?"row-reverse":"row",width:"".concat(e+("bottom"===n?0:130),"px")}};var e,n}),[t.direction,t.showDualCalendar,t.size]),o=e.useMemo((function(){return"rc_shortcut_cal_root "+(t.useDarkMode?" rc_dark":"")+" rc_dir-"+(t.direction||"left")}),[t.useDarkMode,t.direction]);if(!t.shortcutButtons.length)throw new Error("Provide a list of shortcut buttons");return e.useImperativeHandle(r,(function(){return{setView:function(e){l.current&&e&&l.current.setView(e)}}})),n.default.createElement("div",{style:i.root,className:o},n.default.createElement(Q,{isDual:!!t.showDualCalendar,direction:t.direction||"left",shortcutButtons:t.shortcutButtons}),n.default.createElement(J,a({ref:l},t)))}));exports.Calendar=J,exports.CalendarWithShortcuts=X,exports.giveDaysInRange=U,exports.giveFormatter=function(e){return function(e){var t={YYYY:!0,MM:!0,DD:!0},n=e.split("-");if(3!==n.length)throw new Error("Date format is invalid.");if(!n.every((function(e){return t[e]})))throw new Error("Date format uses unknown parts.");return function(e,t){if(c(e)){var a="";return n.forEach((function(n,r){"YYYY"===n&&(a+=e.getFullYear()),"MM"===n&&(a+=e.getMonth()),"DD"===n&&(a+=e.getDate()),2!==r&&(a+=t)})),a}}}(e||"DD-MM-YYYY")};
